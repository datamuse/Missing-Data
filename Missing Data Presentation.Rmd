---
title: "Missing Data Modeled"
author: "Patrick Mobley"
date: "March 6, 2016"
output: ioslides_presentation
---

## Keep in Mind

> All models are wrong, but some are useful 
â€” famed statistician George Box


## Why is missing data a problem? {.smaller}

- Loss of power
  
```{r, echo=FALSE, message=FALSE }
rm(list=ls())                        # clear the workspace
require(dplyr, quietly = TRUE)
```

```{r, echo=FALSE}
data(iris)
head(iris)
miris <- as.data.frame(lapply(filter(iris, Petal.Width <= .5 ), 
          function(cc) cc[ sample(c(TRUE, NA), 
          prob = c(0.80, 0.20), size = length(cc), replace = TRUE) ]))
miris <- merge(miris, filter(iris, Petal.Width > .5), all = TRUE)
head(miris)
```

+ `r round(100*sum(is.na(unlist(miris)))/length(unlist(miris)), 1)`% of the data is missing.

+ However, only `r nrow(na.omit(miris))` complete rows (`r round((nrow(na.omit(miris))/150*100), 1)`%) are left.

Even small amounts of missing data, can result in large data loss. 

***

- Bias

```{r, echo=FALSE}
par(mfrow = c(1,3))
plot(density(iris$Petal.Width), main = "Pedal Width")
plot(density(miris$Petal.Width, na.rm = TRUE), main = "Pedal Width (missing)")
plot(density(miris$Petal.Width[complete.cases(miris)]), main = "Pedal Width (only complete cases)")
```

## Goals for Missing Data Model

1. Minimize bias. 
2. Maximize the use of available information.
3. Yield good estimates of uncertainty. 

Taken from Paul Allison's chapter on missing data referenced at end of presentation. 

<div class="notes">
1. Although it is well-known that missing data can introduce bias into parameter estimates, a good method should make that bias as small as possible.
2. We want to avoid discarding any data, and we want to use the available data to produce parameter estimates that are efficient (i.e., have minimum- sampling variability).
3. We want accurate estimates of standard errors, confidence intervals and p-values.
</div>

## Three types of missing data

- MCAR - Missing Completely At Random 
- MAR - Missing At Random 
- MNAR - Missing Not At Random

They each have different implications. 

## Types of data
Qualitiative

- Ordinal (ex: small, medium, large)
- Categorical (ex: red, green, blue)

Numeric

- Continuous (ex: age)
- Discrete (ex: number of people in a household)

Depending on the type of data, we'll address the missing data differently.

## Methods to deal with missing data

Deletion

- Listwise
- Pairwise

Imputation

- Mean
- Median
- Modeling

Interpolation

## Resources

Articles:
http://www.analyticsvidhya.com/blog/2016/03/tutorial-powerful-packages-imputing-missing-values/
http://www.analyticsvidhya.com/blog/2016/01/guide-data-exploration/


Chapters:
http://www.stats.ox.ac.uk/~snijders/Graham2009.pdf
http://www.statisticalhorizons.com/wp-content/uploads/2012/01/Milsap-Allison.pdf

